(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-forget_pass-forget_pass"],{2188:function(t,e,s){"use strict";s.r(e);var i=s("f6b7"),a=s.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){s.d(e,t,(function(){return i[t]}))}(n);e["default"]=a.a},"51f3":function(t,e,s){"use strict";s.d(e,"b",(function(){return a})),s.d(e,"c",(function(){return n})),s.d(e,"a",(function(){return i}));var i={"u-Input":s("bb0d").default},a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-uni-view",[s("v-uni-view",{staticClass:"p-10"},[s("v-uni-view",{staticClass:"p-10",staticStyle:{background:"#fff"}},[s("v-uni-view",{staticClass:"u-f-dr u-f-ac m-t-5"},[s("v-uni-image",{staticClass:"img_25",attrs:{src:t.getImgsrc("tel.png"),mode:"aspectFill"}}),s("u--input",{staticClass:"m-l-10",attrs:{placeholder:"请输入邮箱/手机号",border:"bottom",clearable:!0},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.onKeyInput.apply(void 0,arguments)}},model:{value:t.phoneNum,callback:function(e){t.phoneNum=e},expression:"phoneNum"}})],1),s("v-uni-view",{staticClass:"u-f-dr u-f-ac m-t-15"},[s("v-uni-image",{staticClass:"img_25",attrs:{src:t.getImgsrc("yanzhengma.png"),mode:"aspectFill"}}),s("u--input",{staticClass:"m-l-10",attrs:{placeholder:"请输入验证码",border:"bottom",clearable:!0,type:"number"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),s("v-uni-view",{},[s("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"yanzheng m-l-10",class:[t.is_text?"yanzheng":"active_yanzheng"],staticStyle:{"font-size":"small",padding:"2px 10px",border:"1px solid darkblue","border-radius":"2px"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.get_num.apply(void 0,arguments)}}},[t._v("获取验证码")]),s("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}],staticClass:"chongxin m-l-10",staticStyle:{"font-size":"small",padding:"2px 10px",border:"1px solid darkblue","border-radius":"2px"}},[t._v(t._s(t.count)+"s后重新获取")])],1)],1)],1),s("v-uni-view",{staticClass:"p-10",staticStyle:{color:"#e72b08"}},[t._v("登陆密码长度至少6位，必须包含数字和字母")]),s("v-uni-view",{staticClass:"p-10",staticStyle:{background:"#fff"}},[s("v-uni-view",{staticClass:"u-f-dr u-f-ac m-t-10"},[s("v-uni-image",{staticClass:"img_25",attrs:{src:t.getImgsrc("mima.png"),mode:"aspectFill"}}),s("u--input",{staticClass:"m-l-10",attrs:{placeholder:"设置新的登陆密码",border:"bottom",clearable:!0,type:"password"},model:{value:t.pass,callback:function(e){t.pass=e},expression:"pass"}})],1),s("v-uni-view",{staticClass:"u-f-dr u-f-ac m-t-15"},[s("v-uni-image",{staticClass:"img_25",attrs:{src:t.getImgsrc("mima.png"),mode:"aspectFill"}}),s("u--input",{staticClass:"m-l-10",attrs:{placeholder:"再次输入新的登陆密码",border:"bottom",clearable:!0,type:"password"},model:{value:t.repass,callback:function(e){t.repass=e},expression:"repass"}})],1)],1),s("v-uni-view",{staticClass:"btn m-t-20",attrs:{"hover-class":"hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}}},[t._v("提交修改")])],1)],1)},n=[]},c6cb:function(t,e,s){"use strict";s.r(e);var i=s("51f3"),a=s("2188");for(var n in a)["default"].indexOf(n)<0&&function(t){s.d(e,t,(function(){return a[t]}))}(n);var o=s("f0c5"),u=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"a9140dac",null,!1,i["a"],void 0);e["default"]=u.exports},f6b7:function(t,e,s){"use strict";s("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,s("ac1f"),s("00b4"),s("e9c4");var i={data:function(){return{tel:"",code:"",show:!0,count:60,is_text:!1,phoneNum:"",timer:null,pass:"",repass:"",code_uid:"",ty:0}},onLoad:function(){uni.setNavigationBarTitle({title:"找回密码"}),this.timer=null},methods:{change:function(){if(""!=this.code_uid){if(/^(?![\d]+$)(?![a-zA-Z]+$)(?![!#$%^&*]+$)[\da-zA-Z!#$%^&*]{6,20}$/.test(this.pass)){if(this.pass!=this.repass)return void uni.showModal({content:"两次输入不符，请重新输入！",title:"密码提示"});this.change_pass()}else uni.showModal({title:"密码提示",content:"为了您的账户安全，密码需6位以上数字、字母组成"})}else uni.showToast({title:"请先验证手机号！",icon:"none"})},change_pass:function(){this.$request.request({url:"api/user/change_pass",method:"GET",data:{tel:this.phoneNum,code:this.code,uid:this.code_uid,pass:this.pass,ty:this.ty}}).then((function(t){200==t.data.code?(uni.showToast({title:t.data.msg}),setTimeout((function(){uni.navigateBack({delta:1})}),1e3)):uni.showToast({title:t.data.msg,icon:"none"})}))},onKeyInput:function(t){console.log(JSON.stringify(t)),11!=t.length?this.is_text=!1:this.is_text=!0},get_num:function(t){this,this.ty=0,/^1[3456789]\d{9}$/.test(this.phoneNum)?(this.ty=0,this.tel_gt(this.ty)):/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(this.phoneNum)?(this.ty=1,this.tel_gt(this.ty)):uni.showToast({title:"输入账号错误，请输入有效邮箱或手机号",icon:"none"})},tel_gt:function(t){var e=this;console.log(t);this.timer||(this.count=60,this.show=!1,this.timer=setInterval((function(){e.count>0&&e.count<=60?e.count--:(e.show=!0,clearInterval(e.timer),e.timer=null)}),1e3));this.$request.request({url:0===t?"api/user/send_sms":"api/user/send_email",method:"GET",data:{tel:this.phoneNum,sign:this.Config.app_name,to_emails:this.phoneNum,title:this.Config.app_name}}).then((function(s){console.log(s),200==s.data.code?(e.code_uid=0===t?s.data.data:s.data.data.uid,uni.showToast({title:s.data.msg})):uni.showToast({title:s.data.msg,icon:"none"})}))}}};e.default=i}}]);