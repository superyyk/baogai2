(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login_email-login_email"],{"1e7e":function(t,e,n){"use strict";n.r(e);var i=n("ab16"),a=n("7bb8");for(var s in a)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(s);var o=n("f0c5"),u=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"d34a75de",null,!1,i["a"],void 0);e["default"]=u.exports},4253:function(t,e,n){"use strict";var i;n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("e9c4"),n("ac1f"),n("00b4");var a={data:function(){return{tel:"",code:"",show:!0,count:60,is_text:!1,phoneNum:"",timer:null,pass:"",repass:"",code_uid:""}},onLoad:function(){uni.setNavigationBarTitle({title:this.Config.app_name+"邮箱登录"})},methods:{change:function(){""!=this.code_uid?this.$request.request({url:"api/user/login_email",method:"GET",data:{tel:this.phoneNum,code:this.code,uid:this.code_uid}}).then((function(t){console.log(t),200==t.data.code?(uni.setStorageSync("token",t.data.data.sign),uni.setStorageSync("user_uuid",t.data.data.uid),uni.showToast({title:t.data.msg}),setTimeout((function(){uni.reLaunch({url:"/pages/index/index"})}),2e3)):uni.showToast({title:t.data.msg,icon:"none"})})):uni.showToast({title:"请先获取验证码！",icon:"none"})},change_pass:function(){this.$request.request({url:this.pub_api_url+"change_pass",data:{tel:this.phoneNum,code:this.code,uid:this.code_uid,pass:this.pass}}).then((function(t){200==t.res?(uni.showToast({title:t.msg}),setTimeout((function(){uni.navigateBack({delta:1})}),1e3)):uni.showToast({title:t.msg,icon:"none"})}))},onKeyInput:function(t){console.log(JSON.stringify(t)),11!=t.length?this.is_text=!1:this.is_text=!0},get_num:function(t){var e=this;if(i=this,/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(this.phoneNum)){this.timer||(this.count=60,this.show=!1,this.timer=setInterval((function(){e.count>0&&e.count<=60?e.count--:(e.show=!0,clearInterval(e.timer),e.timer=null)}),1e3)),this.$request.request({url:"api/user/send_email",method:"GET",data:{to_emails:this.phoneNum,title:this.Config.app_name}}).then((function(t){console.log(t),200==t.data.code?(e.code_uid=t.data.data.uid,uni.showToast({title:t.data.msg})):uni.showToast({title:t.data.msg,icon:"none"})}))}else uni.showModal({title:"消息提示",content:"邮箱码格式错误!请重新输入",success:function(t){t.confirm&&(i.phoneNum="")}})}}};e.default=a},"7bb8":function(t,e,n){"use strict";n.r(e);var i=n("4253"),a=n.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(s);e["default"]=a.a},ab16:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return i}));var i={"u-Input":n("bb0d").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"p-10"},[n("v-uni-view",{staticClass:"p-10",staticStyle:{background:"#fff"}},[n("v-uni-view",{staticClass:"u-f-dr u-f-ac m-t-5"},[n("v-uni-image",{staticClass:"img_25",attrs:{src:t.getImgsrc("email.png"),mode:"aspectFill"}}),n("u--input",{staticClass:"m-l-10",attrs:{placeholder:"请输入邮箱",border:"bottom",clearable:!0},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.onKeyInput.apply(void 0,arguments)}},model:{value:t.phoneNum,callback:function(e){t.phoneNum=e},expression:"phoneNum"}})],1),n("v-uni-view",{staticClass:"u-f-dr u-f-ac m-t-15"},[n("v-uni-image",{staticClass:"img_25",attrs:{src:t.getImgsrc("yanzhengma.png"),mode:"aspectFill"}}),n("u--input",{staticClass:"m-l-10",attrs:{placeholder:"请输入邮箱验证码",border:"bottom",clearable:!0,type:"number",maxlength:"6"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),n("v-uni-view",{},[n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"yanzheng m-l-10",class:[t.is_text?"yanzheng":"active_yanzheng"],staticStyle:{"font-size":"small",padding:"2px 10px",border:"1px solid darkblue","border-radius":"2px"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.get_num.apply(void 0,arguments)}}},[t._v("获取验证码")]),n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}],staticClass:"chongxin m-l-10",staticStyle:{"font-size":"small",padding:"2px 10px",border:"1px solid darkblue","border-radius":"2px"}},[t._v(t._s(t.count)+"s后重新获取")])],1)],1)],1),n("v-uni-view",{staticClass:"btn m-t-20",attrs:{"hover-class":"hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}}},[t._v("立即登陆")])],1)],1)},s=[]}}]);