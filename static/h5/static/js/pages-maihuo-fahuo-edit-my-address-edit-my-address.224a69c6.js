(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-maihuo-fahuo-edit-my-address-edit-my-address"],{"31bd":function(t,i,e){"use strict";e.r(i);var s=e("8c6f"),a=e("bac6");for(var n in a)["default"].indexOf(n)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(n);var o=e("f0c5"),u=Object(o["a"])(a["default"],s["b"],s["c"],!1,null,"aaa21cbe",null,!1,s["a"],void 0);i["default"]=u.exports},"779b":function(t,i,e){t.exports=e.p+"static/img/dingwei.978cf8ee.png"},"8c6f":function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return n})),e.d(i,"a",(function(){return s}));var s={kevyEmpty:e("99f1").default,uPopup:e("6ded").default,"u-Input":e("bb0d").default},a=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("v-uni-view",[0==t.add_list.length?s("v-uni-view",[s("kevy-empty",{attrs:{show:!0,type:"search",text:"暂未添加发货地址~"}},[s("v-uni-view",{staticClass:"add_line m-t-5",staticStyle:{height:"6rpx"}}),s("v-uni-view",{staticClass:"m-t-10 p-10 u-f u-f-ajc"},[s("v-uni-view",{staticClass:"bd-r-5",staticStyle:{"background-color":"coral",color:"#fff",padding:"4rpx 10rpx"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.add()}}},[t._v("新增地址")])],1)],1)],1):t._e(),s("v-uni-view",{staticClass:"p-5"},[t._l(t.add_list,(function(i,e){return[s("v-uni-view",{key:e+"_0",staticClass:"p-5 bd-r-2 bd-b-1 m-t-5",staticStyle:{"background-color":"#fff"}},[s("v-uni-view",{staticClass:"u-f-dc"},[s("v-uni-text",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.use(i)}}},[t._v("发货地址:"+t._s(i.address))]),s("v-uni-view",{staticClass:"u-f-dc"},[s("v-uni-view",{staticClass:"u-f-dr u-f-ac",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.use(i)}}},[s("v-uni-text",[t._v("发货人："+t._s(i.name))]),s("v-uni-text",{staticClass:"m-l-15"},[t._v(",联系方式："+t._s(i.tel))])],1),s("v-uni-view",{staticClass:"u-f-dr u-f-ac u-f-jsb",staticStyle:{width:"100%"}},[s("v-uni-text",[t._v("备注："+t._s(i.tip))]),s("v-uni-view",{staticClass:"u-f-dr u-f-ac"},[s("v-uni-text",{staticStyle:{"background-color":"cornflowerblue",color:"#fff",padding:"4rpx 10rpx","font-size":"small"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.edit(i)}}},[t._v("编辑")]),s("v-uni-text",{staticClass:"m-l-5",staticStyle:{"background-color":"darkgray",color:"#fff",padding:"4rpx 10rpx","font-size":"small"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.del(i)}}},[t._v("删除")])],1)],1)],1),1==i.used?s("v-uni-view",{staticClass:"p-5 f-s",staticStyle:{color:"coral"}},[t._v("默认使用")]):t._e()],1)],1)]})),t.add_list.length>0?s("v-uni-view",[s("v-uni-view",{staticClass:"add_line m-t-5",staticStyle:{height:"6rpx"}}),s("v-uni-view",{staticClass:"m-t-10 p-10 u-f u-f-ajc"},[s("v-uni-view",{staticClass:"bd-r-5",staticStyle:{"background-color":"coral",color:"#fff",padding:"4rpx 10rpx"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.add.apply(void 0,arguments)}}},[t._v("新增地址")])],1)],1):t._e()],2),s("u-popup",{attrs:{show:t.show,mode:"center",round:10,closeable:!0},on:{close:function(i){arguments[0]=i=t.$handleEvent(i),t.close.apply(void 0,arguments)},open:function(i){arguments[0]=i=t.$handleEvent(i),t.open.apply(void 0,arguments)}}},[s("v-uni-view",{staticClass:"p-15",staticStyle:{width:"600rpx"}},[s("v-uni-view",{staticClass:"u-f u-f-ajc"},[s("v-uni-text",{staticClass:"f-b-wb"},[t._v("新增信息")])],1),s("v-uni-view",[s("v-uni-view",{staticClass:"u-f-dr u-f-ac m-t-10"},[s("v-uni-text",[t._v("发货地址：")]),s("u--input",{attrs:{placeholder:"请输入地址",border:"bottom",clearable:!0},model:{value:t.address,callback:function(i){t.address=i},expression:"address"}}),s("v-uni-image",{staticClass:"img_20",attrs:{src:e("779b"),mode:"aspectFill"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.choose.apply(void 0,arguments)}}})],1),s("v-uni-view",{staticClass:"u-f-dr u-f-ac m-t-10"},[s("v-uni-text",[t._v("地址备注：")]),s("u--input",{attrs:{placeholder:"请输入地址备注信息",border:"bottom",clearable:!0},model:{value:t.tip,callback:function(i){t.tip=i},expression:"tip"}})],1),s("v-uni-view",{staticClass:"u-f-dr u-f-ac m-t-10"},[s("v-uni-text",[t._v("发件人：")]),s("u--input",{attrs:{placeholder:"请输入姓名",border:"bottom",clearable:!0},model:{value:t.name,callback:function(i){t.name=i},expression:"name"}})],1),s("v-uni-view",{staticClass:"u-f-dr u-f-ac m-t-10"},[s("v-uni-text",[t._v("联系方式：")]),s("u--input",{attrs:{placeholder:"请输入联系方式",border:"bottom",clearable:!0},model:{value:t.tel,callback:function(i){t.tel=i},expression:"tel"}})],1),s("v-uni-view",{staticClass:"p-10"},[s("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!t.is_click,expression:"!is_click"}],staticClass:"bd-r-50",staticStyle:{padding:"6rpx 10rpx","background-color":"green",color:"#fff","text-align":"center"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.sub.apply(void 0,arguments)}}},[t._v("新增")]),s("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.is_click,expression:"is_click"}],staticClass:"bd-r-50",staticStyle:{padding:"6rpx 10rpx","background-color":"green",color:"#fff","text-align":"center"}},[t._v("新增")])],1)],1)],1)],1)],1)},n=[]},a734:function(t,i,e){"use strict";e("7a82");var s=e("4ea4").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("ac1f"),e("00b4");var a=s(e("99f1")),n={data:function(){return{user_uuid:"",add_list:[],show:!1,address:"",name:"",tel:"",tip:"",is_click:!1,ty:0,select_id:""}},components:{KvEmpty:a.default},onShow:function(){this.user_uuid=this.checkLogin().user_uuid,this.user_uuid?(console.log(this.user_uuid),this.load_user_info()):uni.showModal({title:"登录提示",content:"你还没有登录，请登录！",success:function(t){uni.navigateTo({url:"/pages/login/login"})}})},onLoad:function(){uni.setNavigationBarTitle({title:"发货地址管理"})},methods:{choose:function(){var t=this;uni.chooseLocation({success:function(i){console.log(i),t.address=i.address,t.lat=i.latitude,t.lgt=i.longitude}})},use:function(t){var i=this;this.$request.request({url:"v1/api/user/use_address",method:"GET",data:{user_uuid:this.user_uuid,id:t.id}}).then((function(t){console.log(t),uni.hideLoading(),200==t.data.data?(uni.showToast({title:t.data.msg}),setTimeout((function(){i.load_user_info()}),1500),setTimeout((function(){uni.navigateBack({delta:1})}),1e3)):uni.showToast({title:t.data.msg,icon:"none"})}))},edit:function(t){this.show=!0,this.ty=1,this.address=t.address,this.name=t.name,this.tel=t.tel,this.tip=t.tip,this.select_id=t.id},del:function(t){var i=this;this.select_id=t.id,this.ty=2,this.$request.request({url:"v1/api/user/add_address",method:"GET",data:{user_uuid:this.user_uuid,address:this.address,name:this.name,tel:this.tel,tip:this.tip,ty:this.ty,id:this.select_id}}).then((function(t){console.log(t),uni.hideLoading(),200==t.data.code?(uni.showToast({title:t.data.msg}),setTimeout((function(){i.show=!1,i.is_click=!1,i.load_user_info()}),1500)):(uni.showToast({title:t.data.msg,icon:"none"}),setTimeout((function(){i.show=!1,i.is_click=!1}),1500))}))},sub:function(){var t=this;if(this.is_click=!0,/^1[3456789]\d{9}$/.test(this.tel)){if(""==this.add||""==this.name||""==this.tel)return uni.showToast({title:"信息不完整，请补全再试！",icon:"none"}),void(this.is_click=!1);this.$request.request({url:"v1/api/user/add_address",method:"GET",data:{user_uuid:this.user_uuid,address:this.address,lat:this.lat,lgt:this.lgt,name:this.name,tel:this.tel,tip:this.tip,ty:this.ty,id:this.select_id}}).then((function(i){console.log(i),uni.hideLoading(),200==i.data.code?(uni.showToast({title:i.data.msg}),setTimeout((function(){t.show=!1,t.is_click=!1,t.load_user_info()}),1500)):(uni.showToast({title:i.data.msg,icon:"none"}),setTimeout((function(){t.show=!1,t.is_click=!1}),1500))}))}else uni.showModal({title:"消息提示",content:"手机号码格式错误!请重新输入",success:function(i){i.confirm&&(t.tel="")}}),this.is_click=!1},open:function(){},close:function(){this.show=!1},add:function(){this.show=!0,this.ty=0,this.address="",this.name="",this.tel="",this.tip=""},load_user_info:function(){var t=this;this.$request.request({url:"v1/api/user/get_user_info",method:"GET",data:{user_uuid:this.user_uuid}}).then((function(i){console.log(i),uni.hideLoading(),200==i.data.code&&(t.add_list=i.data.data.my_add)}))}}};i.default=n},bac6:function(t,i,e){"use strict";e.r(i);var s=e("a734"),a=e.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){e.d(i,t,(function(){return s[t]}))}(n);i["default"]=a.a}}]);